---
title: "Create a schema"
---

import InstallInstructions from '/snippets/references/cli/install.mdx'
import LoginInstructions from '/snippets/references/cli/login.mdx'

To keep things simple, we've provided a [getting-started repository](https://github.com/miruml/getting-started) that contains a variety of sample schemas. Follow along with us by cloning the repository.

```bash
git clone https://github.com/miruml/getting-started.git
```

This guide focuses on the `Mobility` config type, which has two sample schema variations:

<Tabs>
  <Tab title="JSON Schema">
    - [Empty schema](https://github.com/miruml/getting-started/blob/main/jsonschema/empty-mobility.yaml) - a schema that regards all config instances as valid
    - [Strict schema](https://github.com/miruml/getting-started/blob/main/jsonschema/mobility.yaml) - a well-defined schema that constrains the valid fields, types, and values for instances of the `Mobility` config type

    Below are the empty and strict schemas defined in the getting-started repository.

    <CodeGroup>

    ```yaml Empty
    x-miru-config-type: "mobility"
    $schema: "http://json-schema.org/draft/2020-12/schema"
    ```

    
    ```yaml Strict expandable
    x-miru-config-type: "mobility"
    $schema: "http://json-schema.org/draft/2020-12/schema"
    type: object
    properties:
        max_linear_speed_mps:
        type: number
        minimum: 0.1
        maximum: 5.0
        default: 1.2
        max_angular_speed_radps:
        type: number
        minimum: 0.1
        maximum: 3.0
        default: 1.0
        obstacle_avoidance_enabled:
        type: boolean
        default: true
        navigation_mode:
        type: string
        enum: [conservative, balanced, aggressive]
        default: balanced
        telemetry:
        type: object
        properties:
            upload_interval_sec:
            type: integer
            minimum: 10
            maximum: 300
            default: 60
            heartbeat_interval_sec:
            type: integer
            minimum: 1
            maximum: 60
            default: 10
        required:
            - upload_interval_sec
            - heartbeat_interval_sec
    required:
        - max_linear_speed_mps
        - max_angular_speed_radps
        - obstacle_avoidance_enabled
        - navigation_mode
        - telemetry
    ```

    </CodeGroup>
  </Tab>
  <Tab title="CUE">
    - [Empty schema](https://github.com/miruml/getting-started/blob/main/cue/empty-mobility.cue) - a schema that regards all config instances as valid
    - [Strict schema](https://github.com/miruml/getting-started/blob/main/cue/mobility.cue) - a well-defined schema that constrains the valid fields, types, and values for instances of the `Mobility` config type

    Below are the empty and strict schemas defined in the getting-started repository.

    <CodeGroup>

    ```cue Empty
    @miru(config_type="mobility")
    {}
    ```

    
    ```cue Strict
    @miru(config_type="mobility")
    {
      max_linear_speed_mps: number & >=0.1 & <=5.0 | *1.2
      max_angular_speed_radps: number & >=0.1 & <=3.0 | *1.0
      obstacle_avoidance_enabled: bool | *true
      navigation_mode: "conservative" | "balanced" | "aggressive" | *"balanced"
    
      telemetry: {
        upload_interval_sec: int & >=10 & <=300 | *60
        heartbeat_interval_sec: int & >=1 & <=60 | *10
      }
    }
    ```

    </CodeGroup>
  </Tab>
</Tabs>

While we recommend using a strict schema, many teams find it simpler to start with an empty schema and gradually add constraints. This guide covers both variants, so feel free to follow along with either one.

## Create a config type

Before defining a schema, we first need to create a config type to house it. Navigate to the [config types page](https://app.miruml.com/configs).

<Frame>
  ![](https://assets.miruml.com/docs/v02/images/config-types/create-page.png)
</Frame>

Click the **New Config Type** button. Supply the name `Mobility` and slug `mobility`. Finally, click **Create**.

<Frame>
  ![](https://assets.miruml.com/docs/v02/images/config-types/create-dialog.png)
</Frame>

<Warning>
  Config type slugs are permanent and cannot be changed after creation.
</Warning>

The slug is a unique identifier for the config type--it's how the CLI determines which config type a schema belongs to. As such, config schemas _must_ be annotated with a config type slug.

<CodeGroup>

```yaml JSON Schema
x-miru-config-type: "mobility"
```


```cue CUE
@miru(config_type="mobility")
```

</CodeGroup>

The getting-started repository already annotates the `Mobility` schema with the `mobility` slug, so no need to add it yourself.

## Set up the CLI

With Miru, config schemas can only be created via the CLI.

This is a deliberate design choice‚Äîwe believe schemas should live in a Git repository. This allows them to be versioned alongside the code that uses them and encourages better software development practices.

### Install

<InstallInstructions />

### Login

<LoginInstructions />

## Push a schema

With the CLI setup, we are ready to push a schema to Miru.

Navigate to the root of the [getting-started](https://github.com/miruml/getting-started) repository and push the mobility schema to Miru.

<Tabs>
  <Tab title="JSON Schema">
    <CodeGroup>

    ```bash Empty
    miru schema push ./jsonschema/empty-mobility.yaml
    ```

    
    ```bash Strict
    miru schema push ./jsonschema/mobility.yaml
    ```

    </CodeGroup>
  </Tab>
  <Tab title="CUE">
    <CodeGroup>

    ```bash Empty
    miru schema push ./cue/empty-mobility.cue
    ```

    
    ```bash Strict
    miru schema push ./cue/mobility.cue
    ```

    </CodeGroup>
  </Tab>
</Tabs>

Upon a successful push, you'll see a confirmation message similar to the following.

<Tabs>
  <Tab title="JSON Schema">
    <CodeGroup>

    ```bash Empty
    üîç Collected Git Metadata
        commit: b6e16a4baecb7631dc40663219832156be7eb08b
        origin: git@github.com:miruml/getting-started.git
        file path: jsonschema/empty-mobility.yaml
        message: refactor: remove uneeded package imports & comments
    
    üü¢ mobility SCH-9Kd4W successfully created 
        language: jsonschema
        format: yaml
        created: Nov 30, 2025 at 10:15 AM PST
        instance file path: /mobility.json
    ```

    
    ```bash Strict
    üîç Collected Git Metadata
        commit: b6e16a4baecb7631dc40663219832156be7eb08b
        origin: git@github.com:miruml/getting-started.git
        file path: jsonschema/mobility.yaml
        message: refactor: remove uneeded package imports & comments
    
    üü¢ mobility SCH-9Kd4W successfully created 
        language: jsonschema
        format: yaml
        created: Nov 30, 2025 at 10:15 AM PST
        instance file path: /mobility.json
    ```

    </CodeGroup>
  </Tab>
  <Tab title="CUE">
    <CodeGroup>

    ```bash Empty
    üîç Collected Git Metadata
        commit: b6e16a4baecb7631dc40663219832156be7eb08b
        origin: git@github.com:miruml/getting-started.git
        file path: cue/empty-mobility.cue
        message: refactor: remove uneeded package imports & comments
    
    üü¢ mobility SCH-9Kd4W successfully created
        language: cue
        format: cue
        created: Nov 30, 2025 at 10:18 AM PST
        instance file path: /mobility.json
    ```

    
    ```bash Strict
    üîç Collected Git Metadata
        commit: b6e16a4baecb7631dc40663219832156be7eb08b
        origin: git@github.com:miruml/getting-started.git
        file path: cue/mobility.cue
        message: refactor: remove uneeded package imports & comments
    
    üü¢ mobility SCH-9Kd4W successfully created
        language: cue
        format: cue
        created: Nov 30, 2025 at 10:18 AM PST
        instance file path: /mobility.json
    ```

    </CodeGroup>
  </Tab>
</Tabs>

<Info>
  Git metadata is pulled from the local Git repository that the schema is defined in.
</Info>

To view the schema in Miru, navigate to the [config types page](https://app.miruml.com/configs) and click into the `Mobility` config type.

<Frame>
  ![](https://assets.miruml.com/docs/v02/images/config-schemas/page.png)
</Frame>

Clicking into a specific schema will show the schema details, including its metadata and the schema content.

<Frame>
  ![](https://assets.miruml.com/docs/v02/images/config-schemas/panel.png)
</Frame>