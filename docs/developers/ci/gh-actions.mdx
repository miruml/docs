---
title: "GitHub Actions"
---

import {Warning} from '/snippets/components/warning.jsx';

The recommended way to install the Miru CLI in GitHub Actions is using the official [mirurobotics/setup-miru](https://github.com/mirurobotics/setup-miru) action.

## Usage

Since the CLI is still in beta, we highly recommend [pinning to a minor version](#pin-a-minor-version) to avoid breaking changes. Minor versions are guaranteed to be backwards compatible.

You can find the CLI version changelog in the [developer changelog](/docs/changelogs/developers).

### Basic usage

After installing the Miru CLI, specify the `MIRU_API_KEY` environment variable to authenticate the CLI. Then, run any CLI commands you need to perform.

```yaml
steps:
  - uses: actions/checkout@v6

  - name: Setup Miru CLI
    uses: mirurobotics/setup-miru@v0.1
    with:
      version: 'v0.9'

  - name: Run your CI task here
    env:
      MIRU_API_KEY: ${{ secrets.MIRU_API_KEY }}
    run: |
      # simply prints out the version of the CLI
      miru version
```

### Pin a minor version

Pinning to a minor version of the CLI will install the latest release within that minor version range. For example, pinning to CLI version `v0.9` will install the latest `v0.9.x` release.

This is the recommended approach to receive the latest bug fixes and improvements while avoiding breaking changes.

```yaml
steps:
  - uses: actions/checkout@v6

  - name: Setup Miru CLI (latest v0.8.x)
    uses: mirurobotics/setup-miru@v0.1
    with:
      version: 'v0.9'
```

### Pin a specific version

Although not recommended, you can pin to a specific version to ensure a stable and predictable environment. However, you won't receive the latest bug fixes and improvements unless you manually upgrade the CLI.

```yaml
steps:
  - uses: actions/checkout@v6

  - name: Setup Miru CLI
    uses: mirurobotics/setup-miru@v0.1
    with:
      version: 'v0.8.0'
```

### Use the installed version in subsequent steps

If you need to use the installed version in subsequent steps, you can use the `id` input to store the version in an output.

```yaml
steps:
  - uses: actions/checkout@v6

  - name: Setup Miru CLI
    # this is the id referenced in the next step 
    # (e.g. steps.<id>.outputs.version)
    id: miru 
    uses: mirurobotics/setup-miru@v0.1

  - name: Print installed version
    run: echo "Installed Miru CLI ${{ steps.miru.outputs.version }}"
```

## Inputs

<ParamField path="version" type="string">
  Miru version of the CLI to install. Supports exact (`v0.8.0`) and minor (`v0.8`) versions. We recommend using a minor version to avoid breaking changes.
  
  Omit or use `latest` for the most recent release. However, this is not recommended as it may introduce breaking changes.
</ParamField>

## Outputs

<ResponseField name="version" type="string" required>
  The version of the Miru CLI that was installed.
</ResponseField>

## Supported Platforms

This action supports the following runner environments:

| OS | Architecture |
|----|--------------|
| Linux | x86_64, arm64 |
| macOS | x86_64 (Intel), arm64 (Apple Silicon) |

<Warning> Windows runners are not currently supported. </Warning>

## Example

### Create a release

This example creates a release when a tag is pushed to the repository. The release is created with the version of the tag and the schemas in the `schemas` directory.

You can also specify schemas as individual files by using the `--schema` flag. Checkout the [CLI Reference](/docs/references/cli/release-create) for more information.

```yaml
name: Create Miru Release

on:
  push:
    tags:
      - '*'

jobs:
  release:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v6

      - name: Setup Miru CLI
        uses: mirurobotics/setup-miru@v0.1

      - name: Create the release
        env:
          MIRU_API_KEY: ${{ secrets.MIRU_API_KEY }}
        run: |
          miru release create \
            --version "${{ github.ref_name }}" \
            --schemas ./schemas
```