---
title: "Create schemas"
---

import Annotations from "/snippets/schemas/annotations.mdx";
import PushNewSchema from "/snippets/schemas/push/new.mdx";
import PushExistingSchema from "/snippets/schemas/push/exists.mdx";
import { Framed } from '/snippets/components/framed.jsx';

<Framed 
  background="https://assets.miruml.com/docs/images/config-schemas/background.png"
  image="/images/config-schemas/header:schema-push.png"
  borderWidth="40px"
/>

Config schemas can **only be created via the CLI**. 

This is a deliberate design choiceâ€”we believe schemas should live in a git repository. This allows them to be versioned alongside the code that uses them and encourages better software development practices. 

Ideally schemas are versioned in the same repository as the code which uses them. However, this is not a requirement and you may find a dedicated git repository for schemas to be more convenient.

## Prerequisites

To create a schema, the following prerequisites must be met:

1. CLI installed - [install](/docs/references/cli/install) the Miru CLI on your development machine and authenticate using the [login](/docs/references/cli/login) command
2. Config type created - create a [config type](/docs/learn/config-types) to house the schema

## Define the schema

Begin by defining your schema using a supported schema [language](/docs/learn/schemas/languages). You can find example schemas in our [getting-started repository](https://github.com/miruml/getting-started).

If you're not sure which language to use, we recommend starting with JSON Schema--it's the most widely used and easiest to start with.

To get started quickly, feel free to use an empty schema, which considers all config instances as valid.

<CodeGroup>
```yaml JSON Schema
$schema: "https://json-schema.org/draft/2020-12/schema"
```

```cue CUE
{}
```
</CodeGroup>

### Annotations

Miru offers several schema annotations to keep track of schema metadata and deployment information.

<Annotations />

## Git integration

### Metadata

When pushing a schema to Miru, the CLI captures git metadata from the local git repository the CLI is run from:

- **Commit SHA** - the SHA of the current commit that the schema is defined in
- **Origin URL** - the remote URL of the git repository
- **File path** - the path to the schema file within the repo

This metadata is then made available in the dashboard for each schema, making it easy to trace where schemas originated from.

It's important to reiterate that Miru does not directly integrate with your hosted git repository provider (GitHub, GitLab, Bitbucket, etc.). It only captures git metadata from the local git repository the CLI is run from.

### Requirements

To be able to capture git metadata, schemas must meet the following requirements when uploading from the CLI:

- The schema must be defined in a local git repository
- The git repository must have a remote URL (GitHub, GitLab, Bitbucket, etc.)
- The schema's latest changes must be committed to the git repository before pushing to Miru (cannot be dirty or unstaged)

Git metadata is not optional--if a schema does not meet these requirements, the CLI will return an error and fail to push the schema.

## Push the schema

Once you've defined a schema and committed to git, you're ready to push the schema to Miru using the CLI.

To push a schema, simply replace `{path/to/schema.yaml}` with the actual path to the schema file.

```bash
miru schema push {path/to/schema.yaml}
```

### New schemas

<PushNewSchema />

### Existing schemas

<PushExistingSchema />