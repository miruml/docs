`miru` uses your provided service account to create temporary tokens (1 hour long) that are distributed to your devices for authenticating to Google Artifact Registry. To do this, we must add the **Service Account Token Creator Role** to the service account.

<Warning> For the **Service Account Token Creator Role** to work properly, please ensure that the [IAM Service Account Credentials API](https://console.cloud.google.com/apis/library/iamcredentials.googleapis.com) is enabled for your Google Cloud project. Click [this link](https://console.cloud.google.com/apis/library/iamcredentials.googleapis.com) (double check the Google Cloud Project is correct!) and select the **Enable** button. </Warning>

Navigate to the [service accounts](https://console.cloud.google.com/projectselector2/iam-admin/serviceaccounts) page in your Google Cloud Console. 

Copy the email of the service account you just created to your clipboard. For us that's `miru-49@container-integration.iam.gserviceaccount.com`. Then click into the service account.

<img src="/images/integrations/gar/gcp-created-sa.png" style={{borderRadius: '7px'}} />

Navigate to the **Permissions** tab.

<img src="/images/integrations/gar/gcp-sa-select-permissions-tab.png" style={{borderRadius: '7px'}} />

Click the **Grant Access** button.

<img src="/images/integrations/gar/gcp-sa-permissions-grant-access.png" style={{borderRadius: '7px'}} />


Paste the service account email which you copied earlier into the **New principals** box and select the service account. Next select the **Service Account Token Creator** role to be assigned. Finally, hit **Save**.

<img src="/images/integrations/gar/gcp-sa-add-token-creator-zoomed.png" style={{borderRadius: '7px'}} />

Your service account now has Service Account Token Creator Role, allowing it to create temporary tokens with the same permission set as the service account itself. 

<img src="/images/integrations/gar/gcp-sa-permissions-sa-w-token-creator.png" style={{borderRadius: '7px'}} />

Next, we'll give the service account access to repositories in Google Artifact Registry.